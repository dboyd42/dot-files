#          _____ __  __ _   ___  __
#          |_   _|  \/  | | | \ \/ /
#            | | | |\/| | | | |\  /
#            | | | |  | | |_| |/  \
#            |_| |_|  |_|\___//_/\_\
#
#  ################# Key ##################
#  #        SHORTHAND | LONGHAND          #
#  #    --------------+------------------ #
#  #              set | set-option        #
#  #             setw | set-window-option #
#  #               -g | global            #
#  #               -r | repeatable        #
#  ########################################

########################
### General Settings ###
########################

### Terminal Stuff ########################################
# Set true color
set -sa terminal-overrides ",xterm*:Tc" #  24-bit color

# Set the delay between prefix and command
set -g escape-time 1

# Set mouse support
set -g mouse on

### Prefixing #############################################
# Set prefex
# unbind C-b
# set -g prefix C-Space         # ugh, C-b is ingrained in me!
# bind C-Space send-prefix      # note, Space-Space != working

# Ensure that Ctrl-b is sent to other apps
bind C-b send-prefix

###############
### Vi-mode ###
###############
# Set vi-mode
setw -g mode-keys vi

#### Copy/Paste Bindings ##################################
bind-key -T copy-mode-vi v send-keys -X begin-selection
# Toggle b/t selection-modes(line, rectangle)
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

### Misc. #################################################
# Reload the TMUX conf file & display confirmation
bind -r C-r source-file $HOME/.config/tmux/tmux.conf \; display "Reloaded!"

##########################################
### Sessions & Windows & Panes, Oh My! ###
##########################################
# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

### Windows ###############################################
# Move between windows with PREFIX Alt+h,l (Hold Alt for repeatability)
bind -r M-h previous-window # Default = <prefix>p (non-repeatable)
bind -r M-l next-window     # Default = <prefix>n (non-repeatable)

### Panes #################################################
# Open panes in current directory
bind '"' split-window -v -c "#{pane_current-path}"
bind % split-window -h -c "#{pane_current-path}"

# Join/send pane to/from <window#.pane#> (starting at 1.1, 2.1, etc)
# Join <w.p> pane to current->pane
bind -r j command-prompt -p "Join pane from: " "join-pane -s '%%'"
# Send current->pane to <w.p>
bind -r C-s command-prompt -p "Send current pane to: " "join-pane -t '%%'"
# -- Remember, you also have built-in bindkeys:
#       <prefix>z   # Zoom toggle (fullscreen)
#       <prefix>!   # Break-pane into new window
#       <prefix> join-pane -s <w.p> -t <w.p>  # Send <w.p> to <w.p>

# Move between panes with PREFIX Ctrl+h,j,k,l (Hold Ctrl for repeatability)
bind -r C-h select-pane -L
bind -r C-j select-pane -D
bind -r C-k select-pane -U
bind -r C-l select-pane -R

# Resize panes  --Hold shift for repeatability
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

#######################
### List of plugins ###
#######################
# Keybindings #############################################
# Install Plugins & Refresh env: <prefix>I
# Update  Plugins              : <prefix>U
# Rm/Uninstall Plugins !in list: <prefix>M-u
### Plugins ###############################################
set -g @plugin 'tmux-plugins/tpm'           # TPM itself
set -g @plugin 'tmux-plugins/tmux-sensible' # Preset "sensible" key-bindings

#+--- Color Themes ---------------------------------------+
# set -g @catppuccin_flavour 'latte'          # light variant
# set -g @catppuccin_flavour 'mocha'          # dark variant (default)
# set -g @catppuccin_flavour 'frappe'         # dark-grey variant
# set -g @catppuccin_flavour 'macchiato'      # dark-grey variant
# set -g @plugin 'catppuccin/tmux'            # TMUX theme
# set -g @plugin "nordtheme/tmux"
# set -g @plugin "janoamaral/tokyo-night-tmux" # Remove the timestamp
set -g @plugin 'tmux-plugins/tmux-yank'     # Copy to sysClip via 'y' key

### Initialize TMUX plugin manager ########################
#  (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
